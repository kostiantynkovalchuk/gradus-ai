Perfect! Facebook credentials are ready. Now let's implement auto-posting to Facebook!

Credentials in Replit Secrets:
- FACEBOOK_PAGE_ACCESS_TOKEN: EAAOriMZBE5rkBP0edXdxEsCr52vf6ORQA6nZB18HpKA04FXe5phxBgOCu1AOYEm6kgo9Nd4yZCnEdrTwvSatjn0aoGu1JfqsLPR4NM147ZAZBB2nV1EUxhbC212skVZBaPxkCSZBcLcaZCR5dyTYxhkgGQT0rV1OjQ6ZCkc4rwfUcK5Rlm8h2ch2N7d4H14RNUpzNGqqZBd1sYA2b8pYZBJtnI6tpTIBtv3326XEx2qWQZDZD
- FACEBOOK_PAGE_ID: 872791199248105

üéØ OBJECTIVE:
Implement Facebook auto-posting that triggers when content is approved in the dashboard.

üìã IMPLEMENTATION:

1. CREATE backend/services/facebook_poster.py:
```python
import os
import requests
from typing import Dict, Optional
import logging
from datetime import datetime

logger = logging.getLogger(__name__)

class FacebookPoster:
    def __init__(self):
        self.page_access_token = os.getenv('FACEBOOK_PAGE_ACCESS_TOKEN')
        self.page_id = os.getenv('FACEBOOK_PAGE_ID')
        self.graph_api_version = 'v18.0'
        self.base_url = f'https://graph.facebook.com/{self.graph_api_version}'
    
    def format_post_text(self, article_data: Dict) -> str:
        """
        Format post text for Facebook
        
        Args:
            article_data: Dict with title, content, source, author
            
        Returns:
            Formatted post text
        """
        title = article_data.get('translated_title', '')
        content = article_data.get('translated_content', '')[:500]  # First 500 chars
        source = article_data.get('source', 'The Spirits Business')
        author = article_data.get('author', '')
        original_url = article_data.get('url', '')
        
        # Format post
        post_text = f"""üì∞ {title}

{content}...

üîó –ß–∏—Ç–∞—Ç–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é: {original_url}
üì∞ {source}"""
        
        if author:
            post_text += f"\n‚úçÔ∏è {author}"
        
        return post_text
    
    def post_with_image(self, article_data: Dict) -> Optional[Dict]:
        """
        Post to Facebook Page with image
        
        Args:
            article_data: Dict with all article info including image_url
            
        Returns:
            Dict with post_id and post_url, or None if failed
        """
        if not self.page_access_token or not self.page_id:
            logger.error("Facebook credentials not configured")
            return None
        
        # Format post text
        message = self.format_post_text(article_data)
        image_url = article_data.get('image_url')
        
        if not image_url:
            logger.warning("No image URL provided, posting text only")
            return self.post_text_only(message)
        
        # Post with photo
        url = f"{self.base_url}/{self.page_id}/photos"
        
        payload = {
            'message': message,
            'url': image_url,
            'access_token': self.page_access_token
        }
        
        try:
            response = requests.post(url, data=payload, timeout=30)
            result = response.json()
            
            if 'id' in result:
                post_id = result['id']
                # Convert photo ID to post URL
                post_url = f"https://www.facebook.com/{self.page_id}/posts/{post_id.split('_')[1]}"
                
                logger.info(f"Posted to Facebook successfully: {post_id}")
                
                return {
                    'post_id': post_id,
                    'post_url': post_url,
                    'posted_at': datetime.now().isoformat()
                }
            else:
                logger.error(f"Facebook API error: {result}")
                return None
                
        except Exception as e:
            logger.error(f"Failed to post to Facebook: {e}")
            return None
    
    def post_text_only(self, message: str) -> Optional[Dict]:
        """
        Post text-only to Facebook Page (fallback if no image)
        """
        url = f"{self.base_url}/{self.page_id}/feed"
        
        payload = {
            'message': message,
            'access_token': self.page_access_token
        }
        
        try:
            response = requests.post(url, data=payload, timeout=30)
            result = response.json()
            
            if 'id' in result:
                post_id = result['id']
                post_url = f"https://www.facebook.com/{self.page_id}/posts/{post_id.split('_')[1]}"
                
                logger.info(f"Posted text to Facebook successfully: {post_id}")
                
                return {
                    'post_id': post_id,
                    'post_url': post_url,
                    'posted_at': datetime.now().isoformat()
                }
            else:
                logger.error(f"Facebook API error: {result}")
                return None
                
        except Exception as e:
            logger.error(f"Failed to post to Facebook: {e}")
            return None
    
    def verify_token(self) -> bool:
        """
        Verify that the access token is valid
        """
        if not self.page_access_token:
            return False
        
        url = f"{self.base_url}/me"
        params = {'access_token': self.page_access_token}
        
        try:
            response = requests.get(url, params=params, timeout=10)
            result = response.json()
            
            if 'id' in result:
                logger.info(f"Facebook token valid for page: {result.get('name')}")
                return True
            else:
                logger.error(f"Invalid token: {result}")
                return False
                
        except Exception as e:
            logger.error(f"Token verification failed: {e}")
            return False
```

2. UPDATE backend/main.py - Add Facebook posting to approval:
```python
from services.facebook_poster import FacebookPoster

@app.post("/api/content/{content_id}/approve")
async def approve_content(content_id: int, db: Session = Depends(get_db)):
    """
    Approve content and automatically post to Facebook
    """
    article = db.query(ContentQueue).filter(ContentQueue.id == content_id).first()
    
    if not article:
        raise HTTPException(status_code=404, detail="Article not found")
    
    # Update status
    article.status = 'approved'
    article.reviewed_at = datetime.now()
    db.commit()
    
    # Send approval notification
    notification_service = NotificationService()
    notification_data = {
        'id': content_id,
        'title': article.extra_metadata.get('title', '') if article.extra_metadata else '',
        'scheduled_time': '–ó–∞—Ä–∞–∑'
    }
    notification_service.notify_content_approved(notification_data)
    
    # AUTO-POST TO FACEBOOK
    facebook_poster = FacebookPoster()
    
    # Prepare article data for posting
    post_data = {
        'translated_title': article.translated_title or (article.extra_metadata.get('title', '') if article.extra_metadata else ''),
        'translated_content': article.translated_text or '',
        'url': article.source_url,
        'source': article.extra_metadata.get('source', 'The Spirits Business') if article.extra_metadata else 'The Spirits Business',
        'author': article.extra_metadata.get('author', '') if article.extra_metadata else '',
        'image_url': article.image_url
    }
    
    # Post to Facebook
    fb_result = facebook_poster.post_with_image(post_data)
    
    if fb_result:
        # Save Facebook post info
        article.status = 'posted'
        article.posted_at = datetime.now()
        
        # Save Facebook post URL in metadata
        if not article.extra_metadata:
            article.extra_metadata = {}
        article.extra_metadata['fb_post_id'] = fb_result['post_id']
        article.extra_metadata['fb_post_url'] = fb_result['post_url']
        
        db.commit()
        
        # Send posted notification
        posted_data = {
            'id': content_id,
            'title': post_data['translated_title'],
            'platforms': ['Facebook'],
            'fb_post_url': fb_result['post_url'],
            'posted_at': fb_result['posted_at']
        }
        notification_service.notify_content_posted(posted_data)
        
        return {
            "status": "success",
            "message": "Content approved and posted to Facebook",
            "article_id": content_id,
            "fb_post_url": fb_result['post_url']
        }
    else:
        # Posting failed, but content is still approved
        return {
            "status": "partial_success",
            "message": "Content approved but Facebook posting failed",
            "article_id": content_id
        }


@app.post("/api/facebook/test")
async def test_facebook_connection():
    """Test Facebook API connection"""
    facebook_poster = FacebookPoster()
    
    if facebook_poster.verify_token():
        return {
            "status": "success",
            "message": "Facebook token is valid",
            "page_id": facebook_poster.page_id
        }
    else:
        raise HTTPException(status_code=500, detail="Facebook token invalid")


@app.post("/api/facebook/post-test")
async def test_facebook_post():
    """Post a test message to Facebook"""
    facebook_poster = FacebookPoster()
    
    test_data = {
        'translated_title': 'üß™ –¢–µ—Å—Ç–æ–≤–∏–π –ø–æ—Å—Ç –≤—ñ–¥ Gradus AI',
        'translated_content': '–¶–µ —Ç–µ—Å—Ç–æ–≤–∏–π –ø–æ—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ Facebook. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –ø–æ—Å—Ç–∏–Ω–≥—É –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ!',
        'url': 'https://www.thespiritsbusiness.com/',
        'source': 'Gradus AI Bot',
        'author': 'Test System',
        'image_url': None
    }
    
    result = facebook_poster.post_with_image(test_data)
    
    if result:
        return {
            "status": "success",
            "message": "Test post created!",
            "post_url": result['post_url']
        }
    else:
        raise HTTPException(status_code=500, detail="Failed to create test post")
```

3. UPDATE frontend - Add visual feedback:

Update frontend/src/pages/ContentApprovalPage.jsx approve function:
```javascript
const approveContent = async (articleId) => {
  if (!window.confirm('‚úÖ Approve and post to Facebook?')) return;
  
  setLoading(true);
  try {
    const response = await axios.post(`${API_URL}/api/content/${articleId}/approve`);
    
    if (response.data.status === 'success') {
      alert(`üéâ Posted to Facebook!\n\n${response.data.fb_post_url}`);
      fetchPendingContent();
    } else if (response.data.status === 'partial_success') {
      alert('‚ö†Ô∏è Content approved but Facebook posting failed');
      fetchPendingContent();
    }
  } catch (error) {
    console.error('Error:', error);
    alert('‚ùå Failed to approve');
  } finally {
    setLoading(false);
  }
};
```

üß™ TESTING:

After implementation:
1. Test token: `curl -X POST http://localhost:8000/api/facebook/test`
2. Test post: `curl -X POST http://localhost:8000/api/facebook/post-test`
3. Approve real article in Dashboard
4. Check Facebook Page - post should appear!
5. Check Telegram - "posted" notification

Please implement Facebook auto-posting now!